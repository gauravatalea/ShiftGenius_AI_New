# Overview

This is a custom MVC PHP framework backend for ShiftGenius AI, an intelligent shift scheduling system for manufacturing/production environments. The system recreates all functionality from the existing Node.js/Express backend, including AI-powered scheduling engine, employee management with skills tracking, production areas management, and real-time shift assignments.

## Recent Changes (August 14, 2025)
- Successfully built complete custom MVC PHP framework from scratch
- Implemented all core models (Employee, ProductionArea, ProcessStep, ProductionOrder, etc.)
- Created AI scheduling engine service ported from TypeScript to PHP
- Set up PostgreSQL database with migration system and sample data
- All API endpoints are functional and tested
- Application is running successfully on PHP 8.2 server

# User Preferences

Preferred communication style: Simple, everyday language.

# System Architecture

## Backend Architecture
- **Framework**: Custom MVC PHP framework built from scratch
- **Language**: PHP 8.2 with modern features and best practices
- **Database**: PostgreSQL with custom ORM-like model system
- **API Design**: RESTful API endpoints with JSON responses
- **Routing**: Custom router with support for parameterized routes and middleware

## Core Components
- **Models**: Employee, ProductionArea, ProcessStep, ProductionOrder, ShiftAssignment, ProductionAlert
- **Controllers**: Dashboard, Employee, ProductionArea, ProcessStep, ProductionOrder, Scheduling, Export
- **Services**: AI-powered SchedulingEngine, Database abstraction layer, Storage service
- **Middleware**: CORS handling, JSON content type management
- **Migration System**: Database schema management with up/down migrations

## Development Environment
- **Platform**: Replit with PHP 8.2 development server
- **Database**: PostgreSQL with environment variable configuration
- **Server**: Built-in PHP development server on port 5000

# API Endpoints

The system provides the following RESTful API endpoints:

## Core Endpoints
- **GET /** - Welcome message and API documentation
- **GET /api/health** - Health check endpoint
- **GET /api/dashboard/stats** - Dashboard statistics and metrics

## Employee Management
- **GET /api/employees** - List all employees with skills and availability
- **POST /api/employees** - Create new employee
- **PATCH /api/employees/{id}** - Update employee information
- **GET /api/employees/utilization** - Employee utilization statistics

## Production Management
- **GET /api/production-areas** - List all production areas
- **GET /api/process-steps** - List all process steps
- **GET /api/production-areas/{areaId}/process-steps** - Process steps by area
- **GET /api/production-orders** - List production orders
- **POST /api/production-orders** - Create new production order
- **PATCH /api/production-orders/{id}** - Update production order

## Scheduling & Assignments
- **GET /api/shift-assignments** - List shift assignments
- **PATCH /api/shift-assignments/{id}/status** - Update assignment status
- **POST /api/generate-schedule** - Generate AI-optimized schedules
- **GET /api/alerts** - Production alerts and notifications
- **GET /api/export/shift-plan** - Export shift plans

# Database Schema

## Core Tables
- **employees** - Employee data with skills, working time models, and availability
- **production_areas** - Manufacturing areas with operational schedules
- **process_steps** - Production process definitions with required skills and timing
- **production_orders** - Orders with quantities, priorities, and scheduling
- **order_process_steps** - Junction table linking orders to process steps
- **shift_assignments** - Employee shift assignments with timing and status
- **production_alerts** - System alerts and notifications